<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
        #container {
            width: 100px;
            height: 100px;
            background-color: #808080;

            position: fixed;
            transform-origin: 0 0;

            background-image: url('https://images.chesscomfiles.com/uploads/v1/images_users/tiny_mce/CHESScom/phphK5JVu.png');
            background-size: 100%;
            background-position: 0 0;
            background-repeat: no-repeat;
        }
    </style>
</head>
<body>
    <div id="container"></div>

    <script>
        function round(base, dec) {
            const multiplier = Math.pow(10, dec);
            return Math.round(base * multiplier) / multiplier;
        }

        const container = document.getElementById('container');
        const CONTAINER_WIDTH = 100;
        const CONTAINER_HEIGHT = 100;

        let imageZoom = 1;
        let imagePositionX = 0;
        let imagePositionY = 0;
        const ZOOM_MULTIPLIER = 1.2;

        window.onresize = _ => {
            const zoomX = window.innerWidth / CONTAINER_WIDTH;
            const zoomY = window.innerHeight / CONTAINER_HEIGHT;

            const zoom = Math.max(zoomX, zoomY);

            const x = (window.innerWidth - CONTAINER_WIDTH * zoom) / 2;
            const y = (window.innerHeight - CONTAINER_HEIGHT * zoom) / 2;

            container.style.left = round(x, 2) + 'px';
            container.style.top = round(y, 2) + 'px';
            container.style.transform = `scale(${zoom})`;
            container.style.bac
        }

        window.onresize();

        container.onclick = e => {
            const clickX = e.offsetX;
            const clickY = e.offsetY;

            // Convert click position to image coordinates (before zoom)
            const clickImageX = (clickX - imagePositionX) / imageZoom;
            const clickImageY = (clickY - imagePositionY) / imageZoom;

            // Apply zoom
            imageZoom *= ZOOM_MULTIPLIER;

            // New position should keep the image point under cursor stationary
            imagePositionX = clickX - clickImageX * imageZoom;
            imagePositionY = clickY - clickImageY * imageZoom;

            container.style.backgroundSize = round(100 * imageZoom, 3) + '%';
            container.style.backgroundPositionX = round(imagePositionX, 3) + 'px';
            container.style.backgroundPositionY = round(imagePositionY, 3) + 'px';
        };

    </script>
</body>
</html>
